
<!-- for each activity -->
<h5 class="report-beneficiary-second-title" style="padding-top:0px;">{{ beneficiary.activity_detail_name }} Details</h5>
	
	<!-- repeat -->
  <div class="card-panel" ng-repeat="borehole in beneficiary.boreholes">

	  <!-- borehole title / btns -->
	  <div class="row">
	  	<div class="col s12 m6">
				<h5 class="report-beneficiary-title-details">Borehole Site {{ $index+1 }}</h5>
			</div>
			<div class="col s12 m6">
  			<div class="btn-floating waves-effect waves-light red lighten-2 right" 
	  					title="Remove Borehole"
	  					ng-show="project.report.report_status !== 'complete'"
	  					ng-click="ngmClusterHelperNgWash.removeModal( project, beneficiary, $index, 'boreholes', '#borehole-modal' )">
  				<i class="material-icons">clear</i>
  			</div>

			</div>
		</div>

		<div class="row">
		
			<div class="input-field col s12 m3">
      	<select materialize-select id="ngm-borehole_water_facility_type-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      					name="borehole_water_facility_type"
	      					class="validate"
	      					ng-options="type.borehole_water_facility_type_id as 
	      												type.borehole_water_facility_type_name for 
	      												type in ngmClusterHelperNgWashLists.lists.borehole_water_facility_types"
	      					ng-model="borehole.borehole_water_facility_type_id"
	      					ng-change="ngmClusterHelperNgWash.selectChange( borehole, 
	      																			'borehole_water_facility_types',
	      																			'borehole_water_facility_type_id', 
	      																			'borehole_water_facility_type_name',
	      																			'ngm-borehole_water_facility_type-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
	      					ng-disabled="project.report.report_status === 'complete' "
	      					required>
				<option value="">{{'select'|translate}}</option>
				</select>
	      <label for="ngm-borehole_water_facility_type-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      				class="active" style="transform:translateY(-10%)">Water Facility Type</label>
			</div>

			<div class="input-field col s12 m3">
      	<select materialize-select id="ngm-borehole_water_facility_size-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      					name="borehole_water_facility_size"
	      					class="validate"
	      					ng-options="size.borehole_water_facility_size_id as 
	      												size.borehole_water_facility_size_name for 
	      												size in ngmClusterHelperNgWashLists.lists.borehole_water_facility_sizes"
	      					ng-model="borehole.borehole_water_facility_size_id"
	      					ng-change="ngmClusterHelperNgWash.selectChange( borehole, 
	      																			'borehole_water_facility_sizes',
	      																			'borehole_water_facility_size_id', 
	      																			'borehole_water_facility_size_name',
	      																			'ngm-borehole_water_facility_size-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
	      					ng-disabled="project.report.report_status === 'complete' "
	      					required>
				<option value="">{{'select'|translate}}</option>
				</select>
	      <label for="ngm-borehole_water_facility_size-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      				class="active" style="transform:translateY(-10%)">Water Facility Size</label>
			</div>

			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_yield_ltrs_second-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
				      	name="borehole_yield_ltrs_second"
				      	type="number" step="any"
				      	class="validate" 
				      	min="0"
				      	ng-model="borehole.borehole_yield_ltrs_second"
				      	ng-change="ngmClusterHelperNgWash.boreholeOutput( project.report.locations, borehole );
				      							 ngmClusterHelperNgWash.inputChange( 'ngm-borehole_yield_ltrs_second-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' );"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_yield_ltrs_second-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Borehole Yield (Ltrs/Sec)</label>
			</div>

			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_pumping_ave_daily_hours-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
				      	name="borehole_pumping_ave_daily_hours"
				      	type="number" step="any"
				      	class="validate" 
				      	min="0"
				      	ng-model="borehole.borehole_pumping_ave_daily_hours"
				      	ng-change="ngmClusterHelperNgWash.boreholeOutput( project.report.locations, borehole );
				      							 ngmClusterHelperNgWash.inputChange( 'ngm-borehole_pumping_ave_daily_hours-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' );"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_pumping_ave_daily_hours-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Daily Pumping Hours (Average)</label>
			</div>

		</div>

		<div class="row">

			<div class="input-field col s12 m3">
      	<select materialize-select id="ngm-water_turbidity_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      					name="water_turbidity_range"
	      					class="validate"
	      					ng-options="type.water_turbidity_range_id as 
	      												type.water_turbidity_range_name for 
	      												type in ngmClusterHelperNgWashLists.lists.water_turbidity_ranges"
	      					ng-model="borehole.water_turbidity_range_id"
	      					ng-change="ngmClusterHelperNgWash.selectChange( borehole, 
	      																			'water_turbidity_ranges',
	      																			'water_turbidity_range_id', 
	      																			'water_turbidity_range_name',
	      																			'ngm-water_turbidity_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
	      					ng-disabled="project.report.report_status === 'complete' "
	      					required>
				<option value="">{{'select'|translate}}</option>
				</select>
	      <label for="ngm-water_turbidity_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      				class="active" style="transform:translateY(-10%)">Water Turbidity Range (NTU)</label>
			</div>
		
			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_tanks_storage_ltrs-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
				      	name="borehole_tanks_storage_ltrs"
				      	type="number" step="any"
				      	class="validate" 
				      	min="0"
				      	ng-model="borehole.borehole_tanks_storage_ltrs"
				      	ng-change="ngmClusterHelperNgWash.inputChange( 'ngm-borehole_tanks_storage_ltrs-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_tanks_storage_ltrs-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Storage Tanks (Ltrs)</label>
			</div>

			<div class="input-field col s12 m3">
	      <input id="ngm-taps_number_connected-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
				      	name="taps_number_connected"
				      	type="number" 
				      	class="validate" 
				      	min="0"
				      	ng-model="borehole.taps_number_connected"
				      	ng-change="ngmClusterHelperNgWash.inputChange( 'ngm-taps_number_connected-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-taps_number_connected-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Taps Connected (Number)</label>
			</div>		

			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_taps_ave_flow_rate_ltrs_minute-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
				      	name="borehole_taps_ave_flow_rate_ltrs_minute"
				      	type="number" step="any"
				      	class="validate" 
				      	min="0"
				      	ng-model="borehole.borehole_taps_ave_flow_rate_ltrs_minute"
				      	ng-change="ngmClusterHelperNgWash.inputChange( 'ngm-borehole_taps_ave_flow_rate_ltrs_minute-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_taps_ave_flow_rate_ltrs_minute-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Average Flow Rate of Taps (Ltrs/Min)</label>
			</div>

		</div>

		<div class="row">

			<div class="input-field col s12 m3">
      	<select materialize-select id="ngm-borehole_chlorination_plan-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      					name="borehole_chlorination_plan"
	      					class="validate"
	      					ng-options="type.borehole_chlorination_plan_id as 
	      												type.borehole_chlorination_plan_name for 
	      												type in ngmClusterHelperNgWashLists.lists.borehole_chlorination_plans"
	      					ng-model="borehole.borehole_chlorination_plan_id"
	      					ng-change="ngmClusterHelperNgWash.selectChange( borehole, 
	      																			'borehole_chlorination_plans',
	      																			'borehole_chlorination_plan_id', 
	      																			'borehole_chlorination_plan_name',
	      																			'ngm-borehole_chlorination_plan-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
	      					ng-disabled="project.report.report_status === 'complete' "
	      					required>
				<option value="">{{'select'|translate}}</option>
				</select>
	      <label for="ngm-borehole_chlorination_plan-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      				class="active" style="transform:translateY(-10%)">Cholrine Plan for {{ project.monthNameFormat }}</label>
			</div>

			<div class="input-field col s12 m3">
      	<select materialize-select id="ngm-free_residual_chlorine_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      					name="free_residual_chlorine_range"
	      					class="validate"
	      					ng-options="type.free_residual_chlorine_range_id as 
	      												type.free_residual_chlorine_range_name for 
	      												type in ngmClusterHelperNgWashLists.lists.free_residual_chlorine_ranges"
	      					ng-model="borehole.free_residual_chlorine_range_id"
	      					ng-change="ngmClusterHelperNgWash.selectChange( borehole, 
	      																			'free_residual_chlorine_ranges',
	      																			'free_residual_chlorine_range_id', 
	      																			'free_residual_chlorine_range_name',
	      																			'ngm-free_residual_chlorine_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
	      					ng-disabled="project.report.report_status === 'complete' "
	      					required>
				<option value="">{{'select'|translate}}</option>
				</select>
	      <label for="ngm-free_residual_chlorine_range-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
	      				class="active" style="transform:translateY(-10%)">Free Residual Chlorine (FRC) Range</label>
			</div>

			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_lng-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
				      	name="borehole_lng"
				      	type="number" step="any"
				      	class="validate"
				      	ng-model="borehole.borehole_lng"
				      	ng-change="ngmClusterHelperNgWashValidation.boreholeBboxCheck( borehole, 'ngm-borehole_lng-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_lng-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Longitude</label>
			</div>

			<div class="input-field col s12 m3">
	      <input id="ngm-borehole_lat-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
				      	name="borehole_lat"
				      	type="number" step="any"
				      	class="validate"
				      	ng-model="borehole.borehole_lat"
				      	ng-change="ngmClusterHelperNgWashValidation.boreholeBboxCheck( borehole, 'ngm-borehole_lat-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
				      	ng-disabled="project.report.report_status === 'complete' "
								required>
	      <label for="ngm-borehole_lat-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Latitude</label>
			</div>

		</div>

		<div class="row">
			<div class="input-field col s12 m6">
				<input id="ngm-contractor-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
					name="contractor"
					type="text" step="any" class="validate" ng-model="borehole.contractor"
					ng-change="ngmClusterHelperNgWash.inputChange(
					'ngm-contractor-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
					ng-disabled="project.report.report_status === 'complete' " required>
				<label for="ngm-contractor-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
					class="active">Name of Contractor</label>
			</div>

			<div class="input-field col s12 m6">
				<select materialize-select id="ngm-contractor_rating-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
					name="contractor_rating" class="validate" ng-options="rating.rating_id as rating.rating_name for
					rating in ngmClusterHelperNgWashLists.lists.contractor_ratings"
					ng-model="borehole.contractor_rating" ng-change="ngmClusterHelperNgWash.selectChange( borehole,
	      																			'contractor_ratings',
	      																			'rating_id', 
	      																			'rating_name',
	      																			'ngm-contractor_rating-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )"
					ng-disabled="project.report.report_status === 'complete' " required>
					<option value="">{{'select'|translate}}</option>
				</select>
				<label for="ngm-contractor_rating-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" class="active"
					style="transform:translateY(-10%)">Contractor Rating</label>
			</div>
		</div>

		<div class="row">

      <div class="input-field col s12 m6">
        <input id="ngm-activity_start_date-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
        		ngm-date
            type="text"
            name="created"
            ng-model="borehole.activity_start_date"
            format="dd mmm, yyyy"
            max="{{ borehole.activity_end_date }}"
            on-close="ngmClusterBeneficiaries.datepicker.startOnClose( borehole, borehole.activity_start_date )"
            ng-disabled="project.definition.project_status === 'complete' "
            e-required/>
	      <label for="ngm-activity_start_date-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Activity Start Date</label>
      </div>

      <div class="input-field col s12 m6">
        <input id="ngm-activity_end_date-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
        		ngm-date
            type="text"
            name="created"
            ng-model="borehole.activity_end_date"
            format="dd mmm, yyyy"
            min="{{ borehole.activity_start_date }}"
            on-close="ngmClusterBeneficiaries.datepicker.endOnClose( borehole, borehole.activity_end_date )"
            ng-disabled="project.definition.project_status === 'complete' "
            e-required/>
	      <label for="ngm-activity_end_date-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}"
	      				class="active">Activity End Date</label>            
      </div>

		</div>

  </div>

  <!-- add new borehole -->
  <button id="add_activitiy_btn-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}" 
  				class="btn blue" 
          ng-show="project.report.report_status !== 'complete'"
          ng-click="ngmClusterHelperNgWash.init_material_select();
          						ngmClusterHelperNgWash.addActivity( project.report.locations, location, beneficiary, 'boreholes', 'add_activitiy_btn-{{ $locationIndex }}-{{ $beneficiaryIndex }}-{{ $index }}' )">
    <i class="material-icons left">add</i>Add Borehole
  </button>

<script>
  // init
  setTimeout(function(){ 
	//   $( '.input-field select' ).material_select(); 
	  $('.input-field select').formSelect();
  	setTimeout(function(){ 
		//   $( '.input-field select' ).material_select(); 
		$('.input-field select').formSelect();
		}, 460 );
		M.updateTextFields();
	}, 200 );
</script>
