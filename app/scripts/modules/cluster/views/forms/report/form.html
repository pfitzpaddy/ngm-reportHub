
<!-- save modal -->
<div id="save-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal teal lighten-1;"><i class="material-icons left small">done</i>Save Monthly Progress {{ project.monthlyTitleFormat }}</h4>
		<p>{{'do_you_want_to_save'|translate}} {{ project.monthlyTitleFormat }}?</p>

		<!-- <p>Project has been saved!</p> -->
	</div>
	<div class="modal-footer">
		<a ng-click="project.save( false, true )" class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!-- list modal -->
<div id="list-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>Cancel Monthly Progress {{ project.monthlyTitleFormat }}</h4>
		<p>{{'return_to_monthly_progress_list'|translate}}</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.cancel()" class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class=" modal-action modal-close waves-effect waves-teal btn-flat">No</a>
	</div>
</div>

<div id="beneficiary-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_beneficiary'|translate}}</h4>
		<p >{{'remove_this_beneficiary_from_your_monthly_progress'|translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.removeBeneficiary()" class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_beneficiary'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="borehole-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_borehole'|translate}}</h4>
		<p >{{'remove_this_borehole_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn-">{{'yes_remove_borehole'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="reticulation-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_reticulation'|translate}}</h4>
		<p >{{'remove_this_reticulation_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_reticulation'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="service-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
		<i class="material-icons small left">delete</i>{{'remove_service'|translate }}</h4>
		<p >        {{'remove_this_service_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_service'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="maintenance-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
		<i class="material-icons small left">delete</i>{{'remove_maintenance' |translate}}</h4>
		<p >{{'remove_this_maintance_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_maintenance'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="latrine-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_latrine' | translate}}</h4>
		<p >{{'remove_this_latrine_from_your_monthly_progress'|translate}}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_latrina'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="shower-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_shower'|translate}}</h4>
		<p >{{'remove_this_shower_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_shower'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="waste-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_waste_management'|translate}}</h4>
		<p >{{'remove_this_waste_managetent_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_waste_management'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="committee-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_committee'|translate}}</h4>
		<p >{{'remove_this_committee_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_committee'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="hygiene-promotion-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_hygiene_promotion'|translate}}</h4>
		<p >{{'remove_this_hygiene_promotion_from_your_monthly_progress'|translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_hygiene_promotion'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="hygiene-kit-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_hygiene_distribution'|translate}}</h4>
		<p >{{'remove_this_hygiene_distribution_from_your_monthly_progress'|translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_hygiene_distribution'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="cash-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_cash_transfer'|translate}}</h4>
		<p >{{'remove_this_cash_transfer_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_cash_transfer'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="accounts-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{'remove_accountability_activity'|translate}}</h4>
		<p >{{'remove_this_accountability_activity_from_your_monthly_progress'|translate}}?</p>

	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterHelperNgWash.remove()" 
				class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_accountability_activity'|translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="complete-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal teal lighten-1"><i class="material-icons small left">info_outline</i>{{'submit_monthly_progress_for'|translate}} {{ project.monthlyTitleFormat }}</h4>
	 <p>{{'submit_monthly_progress_for'|translate}} {{ project.monthlyTitleFormat }}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.save( true, false )" class=" modal-action modal-close waves-effect waves-green btn">{{'yes_submit_report'|translate}}!</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<div id="remove-report-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2">
			<i class="material-icons small left">delete</i>{{ 'remove_report_for'|translate }} {{ project.monthlyTitleFormat }}</h4>
		<p >{{ 'all_records_will_be_destroyed'|translate }} {{ 'remove_report_for'|translate }} {{ project.monthlyTitleFormat }}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.removeReport()" class="modal-action modal-close waves-effect waves-green btn">{{ 'yes_remove_report'|translate }}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!--  -->
<div class="row">
	<div class="col s12 m12 l12">
		<div style="padding:20px;">
			
			<!--  -->
			<span class="left show-on-small hide-on-med-and-up"
				style="padding-top:8px;padding-left: 17px;padding-bottom: 15px;">{{'last_updated' | translate}}:
				{{ project.updatedAt }}</span>
			<button ng-if="!project.location_group" class="waves-effect waves-teal btn-flat" ng-click="project.modalConfirm( 'list-modal' )">
				<i class="material-icons mirror left">keyboard_return</i>{{'back_to_reports'|translate}}
			</button>

			<button ng-if="project.location_group" class="waves-effect waves-teal btn-flat" ng-click="project.modalConfirm( 'list-modal' )">
				<i class="material-icons mirror left">keyboard_return</i>{{'back_to_location_groups'|translate}}
			</button>			

			<span class="right hide-on-small-only" style="padding-top:8px;">{{'last_updated'|translate}}: {{ project.updatedAt }}</span>

		</div>
	</div>
</div>

<!-- Project form -->
<div name="clusterReportForm" class="col s12 m12 l12" style="padding:0px;" novalidate>

	<!-- <fieldset ng-disabled="!project.canEdit"> -->
	<div>
		
		<!-- Project beneficiaries details -->
		<div ng-include="project.templatesUrl + project.locationsUrl"></div>

		<!-- Project beneficiaries details -->
		<div ng-if="!project.location_group" ng-include="project.templatesUrl + project.notesUrl"></div>

		<!-- Upload documents -->
		<div ng-if="!project.location_group" ng-include="project.templatesUrl + project.uploadUrl"></div>

		<!-- form submission -->
		<div class="row remove" ng-if="project.canEdit && project.definition.project_status !== 'complete' && 
																		project.report.report_status !== 'complete'">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2">			
					
					<!-- submission !== NG -->
					<div align="center" ng-if="project.definition.admin0pcode !== 'NG'">
						
						<!-- validation -->
							<!-- 
								params
									arg1: set report status from 'todo' to 'complete' & re-direct
									arg2: save & re-direct 
								project.validateBeneficiariesDetailsForm( arg1, arg2 )
							 -->
						<button class="waves-effect waves-light btn"
											ng-click="project.validateBeneficiariesDetailsForm( false, true )"
											ng-cloak>
										<i class="material-icons mirror right">send</i>{{'save_mayus'|translate}}
						</button>

						<!-- cancel new  -->
						<button class="waves-effect waves-light btn grey modal-trigger" 
											data-target="list-modal">{{'cancel_mayus' | translate}}
						</button>

						<br/>
						<br/>

						<!-- monthly report -->
							<!-- 
								params
									arg1: set report status from 'todo' to 'complete' & re-direct
									arg2: save & re-direct 
								project.validateBeneficiariesDetailsForm( arg1, arg2 )
							 -->
						<button ng-if="!project.location_group"
											class="waves-effect waves-light btn blue"
											ng-click="project.validateBeneficiariesDetailsForm( true, false )"
											ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'submit_monthly_progress'|translate}}

						</button>

					</div>

					<!-- submission === NG -->
					<div align="center" ng-if="project.definition.admin0pcode === 'NG'">
						
						<!-- validation -->
							<!-- 
								params
									arg1: set report status from 'todo' to 'complete' & re-direct
									arg2: save & re-direct 
								project.validateBeneficiariesDetailsForm( arg1, arg2 )
							 -->
						<button class="waves-effect waves-light btn"
											ng-click="project.validateWashNgBeneficiariesForm( false, true )"
											ng-cloak>
										<i class="material-icons mirror right">send</i>{{'save_mayus'|translate}}
						</button>

						<!-- cancel new  -->
						<button class="waves-effect waves-light btn grey modal-trigger" 
											data-target="list-modal">{{'cancel_mayus' | translate}}
						</button>

						<br/>
						<br/>

						<!-- monthly report -->
							<!-- 
								params
									arg1: set report status from 'todo' to 'complete' & re-direct
									arg2: save & re-direct 
								project.validateBeneficiariesDetailsForm( arg1, arg2 )
							 -->
						<button class="waves-effect waves-light btn blue"
											ng-click="project.validateWashNgBeneficiariesForm( true, false )"
											ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'submit_monthly_progress'|translate}}

						</button>

					</div>

					<!-- remove report -->
					<div align="center" ng-if="project.nonProjectDates && !project.location_group">
						<br />
						<button class="waves-effect waves-light btn red lighten-2" ng-click="project.removeReportModal()" ng-cloak>
							<i class="material-icons left">delete_forever</i>{{ 'remove_report'|translate }}
						</button>
					</div>

				</div>
			</div>
		</div>
		
		<!-- validation report monthly -->
		<div class="row remove" ng-if="project.report.report_status === 'complete' && ngmClusterValidation.verified_user()">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2">					
					<div align="center">		
						<!-- validation -->
						<button class="waves-effect waves-light btn" 
							ng-click="project.validateReport('valid')"
							ng-disabled="project.report.report_validation ==='valid'" 
							ng-cloak>
							<i class="material-icons right">assignment_turned_in</i>
							Validate{{project.report.report_validation ==='valid'?'d':''}}
						</button>
						<button class="waves-effect waves-light btn grey" 
							ng-click="project.validateReport('checked')"
							ng-disabled="project.report.report_validation ==='checked'"  
							ng-cloak>
							<i class="material-icons right">search</i>to be checked
						</button>		
						<!-- cancel new  -->
						<button class="waves-effect waves-light btn red " 
							ng-click="project.validateReport('invalid')"
							ng-disabled="project.report.report_validation ==='invalid'"> 
							<i class="material-icons right">not_interested</i>
							invalidate{{project.report.report_validation ==='invalid'?'d':''}}
						</button>
		
						<br/>
						<br/>
		
		
					</div>
				</div>
			</div>
		</div>
	</div>

</div>

<script type="text/javascript">
	// modals
	$(document).ready(function(){
		$('.modal').modal();
	})
</script>

