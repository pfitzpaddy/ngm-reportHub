
<!-- cancel modal -->
<div id="save-modal" class="modal">
	<div class="modal-content dialog">
		<h4  class="header-modal teal lighten-1"><i class="material-icons left small">done</i>{{'save_project' | translate}}</h4>
		<!-- <p>'{{ project.definition.project_title }}' has been saved!</p> -->
		<p>{{'do_you_want_to_save_this_project' | translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.save( true, false )" class=" modal-action modal-close waves-effect waves-green btn">{{'yes' | translate}}</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
	</div>
</div>

<!-- list modal -->
<div id="list-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>{{'cancel_new_project' | translate}}</h4>
		<p>{{'are_you_sure_you_want_to_return_to_projects' | translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.cancel()" class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
	</div>
</div>

<!-- list modal -->
<div id="summary-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>{{'cancel_project_update' | translate}}</h4>
		<p>{{'return_to_project_summary' | translate}}</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.cancel()" class=" modal-action modal-close waves-effect waves-green btn">{{'yes_cancel_update' | translate}}!</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!-- remove beneficiaries -->
<div id="beneficiary-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2"><i class="material-icons left small">group</i>{{'remove_people_in_need' | translate}}</h4>
		<p>{{'remove_people_in_need_from_project' | translate}}</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.removeTargetBeneficiary()" class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_people_in_need' | translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!-- remove location -->
<div id="location-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2"><i class="material-icons left small">location_on</i>{{'remove_project_location' | translate}}</h4>
		<p>{{'this_will_affect_any_existing_monthly_beneficiary_reports' | translate}}</p>
	</div>
	<div class="modal-footer">
		<a ng-click="ngmClusterLocations.removeLocation()" class="modal-action modal-close waves-effect waves-green btn">{{'yes_remove_location' | translate}}!</a>
		<a class="modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!-- location groups add -->
<div id="location-group-add-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>{{'add_location_groups' | translate}}</h4>
		<p>{{'add_location_groups_message' | translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.addLocationGroupings()" class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class="modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
	</div>
</div>

<!-- location groups add -->
<div id="location-group-remove-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2"><i class="material-icons left small">info_outline</i>{{'remove_location_groups' | translate}}</h4>
		<p>{{'remove_location_groups_message' | translate}}?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.removeLocationGroupings()" class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class="modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
	</div>
</div>

<!-- change location grouping -->
<div id="change-location-group-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2"><i
				class="material-icons left small">info_outline</i>Change Grouping</h4>
		<p>Would you like to use grouping?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="project.changeGroupingLocation()"
			class=" modal-action modal-close waves-effect waves-green btn">{{'yes'|translate}}</a>
		<a class="modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
	</div>
</div>

<!-- import file modal -->
<div id="upload-monthly-file-project" class="modal">
	<div class="modal-footer" style=" padding-top: 1px; padding-right: 1px; ">
		<a class=" modal-action waves-effect waves-green right close-button" style="margin-top:0px"
			ng-click="project.uploadFileReport.closeModal('upload-monthly-file-financial')">
			<i class="material-icons modal-action modal-close close-uplod-btn">clear</i></a>
	</div>
	<div class="modal-content">


		<div class="row" ng-if="!inputString">
			<div id="dropzone">
				<form ng-dropzone dropzone="dropzone" dropzone-config="project.uploadFileReport.uploadFileConfig"
					enctype="multipart/form-data" class="dropzone needsclick dz-clickable">
					<div class="fallback">
						<input name="file" type="file" multiple />
					</div>
					<div id="dropzone-message" class="center"></div>
					<div class="percent-upload">
						<div class=" percentage center" style="font-weight: 400;font-size: 48px; margin-top:30px;">
						</div>
						<div class="dz-progress progress">
							<div class="indeterminate dz-upload" data-dz-uploadprogress>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="center" style="margin-top: 10px">
				<button id="upload_file" class="btn">{{'submit'|translate}}</button>
				<div id="delete_file" class="btn red">{{'cancel_mayus'|translate}}</div>
				<button ng-if="import_file_type !== 'all'" id="switch_btn_file" ng-click="project.switchInputFile()" class="btn blue"> Input data</button>
			</div>
		</div>
		<div class="row" ng-if="inputString">
			<div id='input-string-area' class="input-field col s12 m12 l12">
				<div class="percent-upload">
					<div class=" percentage center" style="font-weight: 400;font-size: 48px; margin-top:30px;">
					</div>
					<div class="dz-progress progress">
						<div class="indeterminate dz-upload" data-dz-uploadprogress>
						</div>
					</div>
				</div>
				<textarea id="ngm-input-string" type="text" class="validate materialize-textarea" name="input-string"
					ng-model="project.text_input" rows="2000" style="max-height:20rem !important;overflow-y: auto;">
												</textarea>
				<label for="ngm-input-string" style="margin-top: -15px;">Select table in Excel, copy to clipboard, and
					past it here</label>
			</div>
			<div class="center" style="margin-top: 10px">
				<button id="input_string" class="btn"
					ng-click="project.uploadFileReport.uploadText()">{{'submit'|translate}}</button>
				<div id="close_input_string" class="btn red modal-action modal-close">{{'cancel_mayus'|translate}}</div>
				<button id="switch_btn_text" ng-click="project.switchInputFile()" class="btn blue"> upload file</button>
			</div>
		</div>
	</div>
</div>
<!-- message warning modal for import file -->
<div id="message-file-project" class="modal">
	<div class="modal-footer" style=" padding-top: 1px; padding-right: 1px; ">
		<a class=" modal-action waves-effect waves-green right close-button" style="margin-top:0px">
			<i class="material-icons modal-action modal-close close-uplod-btn">clear</i></a>
	</div>
	<div class="modal-content" style="padding-top: 0px;">

		<div class="center">
			<i class="material-icons" style="color:#ff9800">error</i>
		</div>
		<div class="row">

			<textarea id="ngm-missing-value" type="text" class="validate materialize-textarea" name="message-warning"
				ng-model="project.messageWarning" readonly
				style="border-bottom-width: 0px; text-align: left;font-size: 1rem !important;min-height: 10rem !important;overflow-y: auto;font-weight: 600;padding-left: 100px;">
			</textarea>
			<div class="center" style="margin-top: 10px">
				<button id="copy_content" class="btn" ng-click="ngmClusterImportFile.copyToClipBoard('ngm-missing-value')"><i
						class="material-icons">content_copy</i></button>
			</div>
		</div>
	</div>
</div>
<!-- list/cancel btn -->
<div class="row" ng-if="project.definition.project_status === 'new'">
	<div class="col s12 m12 l12">
		<div style="padding:20px;">

			<!--  -->
			<button class="waves-effect waves-light btn-flat" ng-click="project.modalConfirm('list-modal')">
				<i class="material-icons mirror left">keyboard_return</i>{{'back_to_projects' | translate}}
			</button>

		</div>
	</div>
</div>

<div class="row" ng-if="project.definition.project_status !== 'new'">
	<div class="col s12 m12 l12">
		<div style="padding:20px;">

			<!--  -->
			<span class="left show-on-small hide-on-med-and-up"
				style="padding-top:8px;padding-left: 17px;padding-bottom: 15px;">{{'last_updated' | translate}}: {{ project.updatedAt }}</span>
			<button class="waves-effect waves-light btn-flat" ng-click="project.modalConfirm('summary-modal')">
				<i class="material-icons mirror left">keyboard_return</i>{{'back_to_project_summary' | translate}}
			</button>

			<span class="right hide-on-small-only" style="padding-top:8px;">{{'last_updated' | translate}}: {{ project.updatedAt }}</span>
			

		</div>
	</div>
</div>

<!-- loading -->
<div align="center" ng-show="loading">
	<div class="preloader-wrapper big active">
	  <div class="spinner-layer spinner-blue">
	    <div class="circle-clipper left">
	      <div class="circle"></div>
	    </div><div class="gap-patch">
	      <div class="circle"></div>
	    </div><div class="circle-clipper right">
	      <div class="circle"></div>
	    </div>
	  </div>

	  <div class="spinner-layer spinner-red">
	    <div class="circle-clipper left">
	      <div class="circle"></div>
	    </div><div class="gap-patch">
	      <div class="circle"></div>
	    </div><div class="circle-clipper right">
	      <div class="circle"></div>
	    </div>
	  </div>

	  <div class="spinner-layer spinner-yellow">
	    <div class="circle-clipper left">
	      <div class="circle"></div>
	    </div><div class="gap-patch">
	      <div class="circle"></div>
	    </div><div class="circle-clipper right">
	      <div class="circle"></div>
	    </div>
	  </div>

	  <div class="spinner-layer spinner-green">
	    <div class="circle-clipper left">
	      <div class="circle"></div>
	    </div><div class="gap-patch">
	      <div class="circle"></div>
	    </div><div class="circle-clipper right">
	      <div class="circle"></div>
	    </div>
	  </div>
	</div>
	<!-- <h4>loading...</h4> -->
</div>

<!-- Project form -->
<div name="clusterProjectForm" class="col s12 m12 l12" style="padding:0px;" novalidate ng-hide="loading">

	<!-- disabled -->
	<div ng-disabled="!project.canEdit">

		<!-- Project details -->
		<div ng-include="project.templatesUrl + project.detailsUrl"></div>

		<!-- Project SO -->
		<div ng-if="project.definition.admin0pcode === 'AF' && project.definition.strategic_objectives && project.definition.strategic_objectives.length" ng-include="project.templatesUrl + project.strategicObjectivesUrl"></div>

		<!-- Project contact details -->
		<div ng-include="project.templatesUrl + project.contactDetailsUrl"></div>

		<!-- Project beneficiaries details -->
		<div ng-if="project.definition.admin0pcode === 'COL'">
			<div ng-include="project.templatesUrl + project.classificiationsUrl"></div>
		</div>

		<!-- Project beneficiaries details -->
		<div class="slide-animate" ng-include="project.templatesUrl + project.targetBeneficiariesUrl"></div>

		<!-- Project location details -->
		<div class="slide-animate" ng-include="project.templatesUrl + project.locationsUrl"></div>

		<!-- Project Document Upload -->
		<div ng-if="!project.newProject" ng-include="project.templatesUrl + project.uploadUrl"></div>

		<!-- Project Status (set to false) -->
		<div class="row remove" ng-if="false">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2" style="padding-top: 0;padding-left: 0;padding-right: 0">
					<div style="height: 80px; margin-bottom: 20px; font-size: 25px;font-weight: 300;padding-top: 20px" class="blue lighten-1">
						<div class="white-text" style="padding: 10px 20px"> 
							<i class="material-icons left">
								 bookmark_border
							</i>Mark Project</div>
					</div>
					<!-- submission -->
					<div align="center">
						<button ng-if="project.definition.project_status === 'active'" ng-click="project.setProjectStatus('complete')" class="waves-effect waves-light btn blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{ 'mark_project_as_complete' | translate }}
						</button>
						<button ng-if="project.definition.project_status !== 'active'" ng-click="project.setProjectStatus('active')" class="waves-effect waves-light btn blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{ 'mark_project_as_active' | translate }}
						</button>
						<button class=" waves-light btn orange" ng-click="project.setProjectStatus('plan')" ng-disabled="project.definition.project_status === 'plan'" >
							<i class="material-icons left">description</i>{{ 'mark_project_as_plan' | translate }}
						</button>
						<button class=" waves-light btn grey" ng-click="project.setProjectStatus('not_implemented')" ng-disabled="project.definition.project_status === 'not_implemented'">
							<i class="material-icons left">not_interested</i>{{ 'mark_project_as_not_implemented' | translate }}
						</button>
		
					</div>
		
				</div>
			</div>
		</div>
		<!-- form submission -->
		<div class="row remove" ng-if="project.definition.project_status !== 'complete' && project.canEdit">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2">

					<!-- submission -->
					<div align="center">
						<button data-target="save-modal" class="waves-effect waves-light btn" ng-click="project.validate(true)" ng-disabled="!project.submit"
							ng-cloak><i class="material-icons mirror right">send</i>{{'save_mayus' | translate}}</button>

						<!-- cancel new -->
						<button data-target="list-modal" class="waves-effect waves-light btn modal-trigger grey"
							ng-if="project.definition.project_status === 'new' ">{{'cancel_mayus' | translate}}
						</button>

						<!-- cancel update -->
						<button data-target="summary-modal" class="waves-effect waves-light btn modal-trigger grey"
							ng-if="project.definition.project_status === 'active' ||
										 project.definition.project_status === 'plan' || 
										 project.definition.project_status === 'not_implemented'">{{'cancel_mayus' | translate}}
						</button>

					</div>

				</div>
			</div>
		</div>

	</div>

</div>

<script type="text/javascript">

	$(document).ready(function(){
		$('.modal').modal();
	})

</script>
