<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ReportHub</title>
		<base href="/">
		<meta name="description" content="Dashboard reporting on key business indicators">
		<meta name="viewport" content="width=device-width">

		<!-- favicon -->
		<link rel="icon" href="images/favicon.ico" sizes="32x32">
		<link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		<!-- vendor css -->
		<!-- build:css(.) styles/vendor.css -->
		<!-- bower:css -->
		<link rel='stylesheet' href='bower_components/leaflet/dist/leaflet.css' />
		<link rel='stylesheet' href='bower_components/cal-heatmap/cal-heatmap.css' />
		<link rel='stylesheet' href='bower_components/leaflet.markercluster/dist/MarkerCluster.css' />
		<link rel='stylesheet' href='bower_components/leaflet.markercluster/dist/MarkerCluster.Default.css' />
		<link rel='stylesheet' href='bower_components/materialize/bin/materialize.css' />
		<link rel='stylesheet' href='bower_components/ngm-leaflet-control-geocoder/Control.Geocoder.css' />
		<link rel='stylesheet' href='bower_components/ngm-leaflet-fullscreen/dist/leaflet.fullscreen.css' />
		<link rel='stylesheet' href='bower_components/dropzone/dist/min/dropzone.min.css' />
		<link rel='stylesheet' href='bower_components/ng-table/dist/ng-table.min.css' />
		<!-- endbower -->
		<!-- endbuild -->

		<!-- ngm css -->
		<!-- build:css(.tmp) styles/main.css -->
		<link rel="stylesheet" href="styles/main.css">	
		<link rel="stylesheet" href="styles/ngm-menu.css">
		<link rel="stylesheet" href="styles/ngm-dropzone.css">
		<!-- endbuild -->

	</head>
	<body ng-app="ngmReportHub" ng-controller="ngmReportHubCrtl" style="height:100%">
		
		<!-- export loading modal -->
		<div id="ngm-loading-modal" class="modal">
			<div class="modal-content">
				<div align="center" ng-include src="'views/modals/loading.html'"></div>
			</div>
		</div>	

		<!-- contact modal -->
		<div id="ngm-contact-modal" class="modal" style="width: 900px;">
			<div align="center" ng-include src="'views/modals/contact.html'"></div>
		</div>

		<!-- session expire modal -->
		<div id="ngm-session-modal" class="modal">
			<div align="center" ng-include src="'views/modals/session.html'"></div>
		</div>
		
		<!--[if lte IE 8]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->

		<header>

			<!-- side navigation -->
			<div class="ngm-menu z-depth-1 hide-on-med-and-down">
				
				<!-- profile menu -->
				<div class="ngm-brand">
					
					<div style="background: {{ ngm.style.darkPrimaryColor }}; height:20px;"></div>
					<div style="background: {{ ngm.style.defaultPrimaryColor }}; height:140px;">
		
						<!-- logo -->
						<a href="{{ ngm.style.home }}" title="HOME">
							<img class="ngm-logo" style="{{ ngm.style.style }}" ng-src="images/{{ ngm.style.logo }}" height="97" align="right"></img>
						</a>

						<!-- profile menu -->
						<!-- profile menu btn (implementing jQuery slideToggle() )-->
						<div class="ngm-profile-menu">
							<div class="ngm-profile-btn fixed-action-btn" 
										align="right">
								<a class="btn-floating btn-large"
										ng-class="{ 'waves-effect waves-teal waves-teal-lighten-4' : ngm.getUserName() !== 'welcome' }"
										style="background: {{ ngm.style.defaultPrimaryColor }};" >
									<i class="ngm-profile-icon material-icons right">add</i>
								</a>
							</div>
							<!-- profile menu dropdown -->
							<a class="ngm-profile white-text right"
								ng-onclick="ngm.setNavMenu()">
								<i class="material-icons right">add</i>{{ ngm.getUserName() }}
							</a>
							<!-- profile menu dropdown list -->
							<ul class="ngm-profile-menu-content dropdown-content z-depth-2">

									<!-- user logout -->
									<li align="center" class="teal z-depth-2"
											ng-show="ngm.getUserName() !== 'welcome'">
										<a class="white-text" ng-click="ngm.logout();">
										<i class="medium material-icons">lock_open</i>
										<br/>LOGOUT</a>
									</li>	

									<!-- user logout -->
									<li align="center" class="teal z-depth-2"
											ng-show="ngm.getUserName() === 'welcome'">
										<a class="white-text" href="#/health/login" ng-click="ngm.toggleNavigationMenu();">
										<i class="medium material-icons">lock_outline</i>
										<br/>LOGIN</a>
									</li>

									<!-- navigation options repeat -->
									<!-- <div ng-init="$menu = ngm.getUserMenu()"> -->
										<li ng-repeat="option in ngm.navigationMenu" class="{{ option.liClass }}">
											<a class="{{ option.aClass }}" href="{{ option.href }}" ng-click="ngm.toggleNavigationMenu();">
											<i class="{{ option.iClass }}">{{ option.icon }}</i>
											<br/>{{ option.title }}</a>
									  </li>
								  <!-- </div> -->

									<!-- contact modal -->
									<li  align="center" class="teal z-depth-2" 
										ng-show="ngm.getUser() && ngm.getUser().organization.toLowerCase() === 'who' || ngm.getUser().organization.toLowerCase() === 'dews'">
										<a class="white-text" href="#/who/" ng-click="ngm.toggleNavigationMenu();">
										<i class="medium material-icons">info_outline</i>
										<br/>DEWS DASHBOARD</a>
									</li>

									<!-- contact modal -->
									<li  align="center" class="teal z-depth-2">
										<a class="white-text" href="#/health/4w" ng-click="ngm.toggleNavigationMenu();">
										<i class="medium material-icons">assessment</i>
										<br/>HEALTH 4W DASHBOARD</a>
									</li>

									<!-- contact modal -->
									<li  align="center" class="teal z-depth-2">
										<a class="white-text" href="#/health/guides" ng-click="ngm.toggleNavigationMenu();">
										<i class="medium material-icons">help_outline</i>
										<br/>USER GUIDES</a>
									</li>

									<!-- contact modal -->
									<li  align="center" class="teal z-depth-2">
										<a class="white-text" ng-click="ngm.contact(); ngm.toggleNavigationMenu()">
										<i class="medium material-icons">group</i>
										<br/>CONTACT REPORTHUB</a>
									</li>

							</ul>
						</div>
					</div>
				</div>

		    <!-- navigation menu -->
		  	<a ng-if="ngm.dashboard.model.menu[0].href" href="{{ ngm.dashboard.model.menu[0].href }}">
		  	<ul class="ngm-navigation-menu collapsible popout"
		  		style="display: none;"
		  		data-collapsible="expandable"
		  		ng-show="ngm.dashboard.model.menu" ng-cloak>

			  	<li ng-show="ngm.dashboard.model.menu" id="li-{{ list.id }}" ng-repeat="list in ngm.dashboard.model.menu" ng-cloak>
			  		<div class="collapsible-header {{ list.class }}" ng-click="ngm.toggleSearch(list.id)" ng-cloak>
			  			<i class="material-icons" ng-cloak>{{ list.icon }}</i>{{ list.title }}
			  		</div>

			  		<!-- search list options (navClass toggles search) -->
			  		<nav id="nav-{{ list.id }}" class="ngm-search" ng-show="list.search" ng-cloak>
					    <div class="nav-wrapper white">
								<div class="input-field">
									<input id="search"
										type="search"
										class="ngm-form-search"
										ng-model="ngm.menu.query[list.id]">
									<label for="search"><i class="material-icons teal-text">search</i></label>
								</div>
							</div>
						</nav>

						<!-- list options -->
			  		<div class="collapsible-body">
				      <div class="collection" ng-repeat="row in list.rows | filter:ngm.menu.query[list.id] track by $index">
				      	
				      	<a ng-if="row.href" href="{{ row.href }}"
				      		id="{{ row.id }}"
				      		class="collection-item {{ row.class }}"
				      		ng-class="{ active: ngm.route.current.params['{{ row.param }}'] === '{{ row.active }}' }" ng-cloak>{{ row.title }}</a>

				      	<a ng-if="!row.href"
				      		id="{{ row.id }}"
				      		class="collection-item {{ row.class }}"
				      		ng-class="{ active: ngm.route.current.params['{{ row.param }}'] === '{{ row.active }}' }" ng-cloak>{{ row.title }}</a>

				      </div>
			  		</div>

			  	</li>
			  </ul>
			  </a>

		  	<ul ng-if="!ngm.dashboard.model.menu[0].href" class="ngm-navigation-menu collapsible popout"
		  		style="display: none;"
		  		data-collapsible="expandable"
		  		ng-show="ngm.dashboard.model.menu" ng-cloak>

			  	<li ng-show="ngm.dashboard.model.menu" id="li-{{ list.id }}" ng-repeat="list in ngm.dashboard.model.menu" ng-cloak>
			  		<div class="collapsible-header {{ list.class }}" ng-click="ngm.toggleSearch(list.id)" ng-cloak>
			  			<i class="material-icons" ng-cloak>{{ list.icon }}</i>{{ list.title }}
			  		</div>

			  		<!-- search list options (navClass toggles search) -->
			  		<nav id="nav-{{ list.id }}" class="ngm-search" ng-show="list.search" ng-cloak>
					    <div class="nav-wrapper white">
								<div class="input-field">
									<input id="search"
										type="search"
										class="ngm-form-search"
										ng-model="ngm.menu.query[list.id]">
									<label for="search"><i class="material-icons teal-text">search</i></label>
								</div>
							</div>
						</nav>

						<!-- list options -->
			  		<div class="collapsible-body">
				      <div class="collection" ng-repeat="row in list.rows | filter:ngm.menu.query[list.id] track by $index">
				      	
				      	<a ng-if="row.href" href="{{ row.href }}"
				      		id="{{ row.id }}"
				      		class="collection-item {{ row.class }}"
				      		ng-class="{ active: ngm.route.current.params['{{ row.param }}'] === '{{ row.active }}' }" ng-cloak>{{ row.title }}</a>

				      	<a ng-if="!row.href"
				      		id="{{ row.id }}"
				      		class="collection-item {{ row.class }}"
				      		ng-class="{ active: ngm.route.current.params['{{ row.param }}'] === '{{ row.active }}' }" ng-cloak>{{ row.title }}</a>

				      </div>
			  		</div>

			  	</li>
			  </ul>  

			</div>

			<!-- make footer visible when menu visibile  -->
			<div class="hide-on-small-only">
				<div class="ngm-menu-footer">
					<div style="background: {{ ngm.style.lightPrimaryColor }}; height:20px;"></div>
					<div style="background: {{ ngm.style.defaultPrimaryColor }}; height:40px;"></div>
				</div>
			</div>

		</header>

		<main id="ngm-report">
			<div class="container">
				<div id="print" class="row row-centered"  style="height:100%">
					<div ng-view=""></div>
				</div>
			</div>
		</main>

		<!-- Google Analytics: UA-70463271-1 -->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-70463271-1', 'auto');
		  ga('send', 'pageview');

		</script>

		<script>
			// open contact modal from footer
			function contact(){
				$('#ngm-contact-modal').openModal({dismissible: false});
			}
		</script

		<!-- vendor -->
		<!-- build:js(.) scripts/vendor.js -->
		<!-- bower:js -->
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/angular-animate/angular-animate.js"></script>
		<script src="bower_components/angular-cookies/angular-cookies.js"></script>
		<script src="bower_components/angular-filter-count-to/dist/angular-filter-count-to.min.js"></script>
		<script src="bower_components/angular-simple-logger/dist/angular-simple-logger.js"></script>
		<script src="bower_components/leaflet/dist/leaflet-src.js"></script>
		<script src="bower_components/angular-leaflet-directive/dist/angular-leaflet-directive.js"></script>
		<script src="bower_components/angular-resource/angular-resource.js"></script>
		<script src="bower_components/angular-route/angular-route.js"></script>
		<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
		<script src="bower_components/angular-touch/angular-touch.js"></script>
		<script src="bower_components/d3/d3.js"></script>
		<script src="bower_components/cal-heatmap/cal-heatmap.js"></script>
		<script src="bower_components/highcharts/highcharts.js"></script>
		<script src="bower_components/highcharts/highcharts-more.js"></script>
		<script src="bower_components/highcharts/modules/exporting.js"></script>
		<script src="bower_components/highcharts-ng/dist/highcharts-ng.js"></script>
		<script src="bower_components/html2canvas/build/html2canvas.js"></script>
		<script src="bower_components/leaflet.markercluster/dist/leaflet.markercluster-src.js"></script>
		<script src="bower_components/materialize/bin/materialize.js"></script>
		<script src="bower_components/moment/moment.js"></script>
		<script src="bower_components/ngm-dashboard-framework/dist/ngm-dashboard-framework.js"></script>
		<script src="bower_components/ngm-leaflet-control-geocoder/Control.Geocoder.js"></script>
		<script src="bower_components/ngm-leaflet-fullscreen/dist/leaflet.fullscreen.min.js"></script>
		<script src="bower_components/dropzone/dist/min/dropzone.min.js"></script>
		<script src="bower_components/ngm-angular-dropzone/lib/angular-dropzone.js"></script>
		<script src="bower_components/ng-table/dist/ng-table.min.js"></script>
		<script src="bower_components/ng-csv/build/ng-csv.min.js"></script>
		<script src="bower_components/angularUtils-pagination/dirPagination.js"></script>
		<script src="bower_components/ngvideo/dist/ng-video.js"></script>
		<!-- endbower -->
		<!-- endbuild -->

		<!-- ngmapp -->
		<!-- build:js({.tmp,app}) scripts/scripts.js -->
		<!-- lib extras -->
		<!-- app -->
		<script src="scripts/app/app.js"></script>
		<script src="scripts/app/forms/form.authentication.js"></script>
		<!-- services -->			
		<script src="scripts/app/services/ngmAuthentication.js"></script>
		<!-- controllers -->
		<script src="scripts/app/controllers/admin/controller.admin.js"></script>
		<script src="scripts/app/controllers/admin/controller.admin.projects.js"></script>
		<script src="scripts/app/controllers/admin/controller.login.js"></script>
		<script src="scripts/app/controllers/admin/controller.register.js"></script>
		<script src="scripts/app/controllers/admin/controller.reset.js"></script>
		<script src="scripts/app/controllers/admin/controller.forbidden.js"></script>
		<!-- help guide -->
		<script src="scripts/app/controllers/guides/controller.guide.menu.js"></script>
		<script src="scripts/app/controllers/guides/controller.guide.workshop.js"></script>
		<script src="scripts/app/controllers/guides/controller.guide.feedback.js"></script>
		<script src="scripts/app/controllers/guides/controller.guide.video.js"></script>
		<script src="scripts/app/controllers/guides/ngm-workshop.js"></script>
		<script src="scripts/app/controllers/guides/ngm-video.js"></script>
		<!-- modules -->
		<!-- health -->
		<!-- health report controllers -->
		<script src="scripts/modules/health/reports/controllers/report.health.project.app.js"></script>
		<script src="scripts/modules/health/reports/controllers/report.health.project.summary.js"></script>
		<script src="scripts/modules/health/reports/controllers/report.health.project.details.js"></script>
		<script src="scripts/modules/health/reports/controllers/report.health.project.financials.js"></script>
		<!-- health forms -->
		<script src="scripts/modules/health/reports/forms/report.health.project.form.details.js"></script>
		<script src="scripts/modules/health/reports/forms/report.health.project.form.financials.js"></script>
		<!-- health dashboard -->
		<script src="scripts/modules/health/dashboards/dashboard.health.js"></script>		
		<!-- dews -->
		<script src="scripts/modules/dews/upload/upload.dews.js"></script>
		<script src="scripts/modules/dews/dashboards/dashboard.dews.js"></script>
		<!-- drr -->
		<script src="scripts/modules/drr/dashboards/dashboard.baseline.js"></script>
		<script src="scripts/modules/drr/dashboards/dashboard.flood.risk.js"></script>
		<!-- watchkeeper -->
		<script src="scripts/modules/watchkeeper/dashboards/dashboard.watchkeeper.js"></script>
		<!-- endbuild -->


		<!-- widgets -->
		<script src="scripts/widgets/ngm-calHeatmap/calHeatmap.js"></script>		
		<script src="scripts/widgets/ngm-dropzone/dropzone.js"></script>
		<script src="scripts/widgets/ngm-highchart/highchart.js"></script>		
		<script src="scripts/widgets/ngm-html/html.js"></script>
		<script src="scripts/widgets/ngm-leaflet/leaflet.js"></script>
		<script src="scripts/widgets/ngm-list/list.js"></script>
		<script src="scripts/widgets/ngm-modal/modal.js"></script>
		<script src="scripts/widgets/ngm-stats/stats.js"></script>
		<script src="scripts/widgets/ngm-table/table.js"></script>

	</body>
</html>
